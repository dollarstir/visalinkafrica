{"ast":null,"code":"var _jsxFileName = \"/Users/dollarsoft/Documents/projects/personal/node/visaLink Africa/src/components/Services/Services.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Plus, Search, Filter, Eye, Edit, Trash2, Settings, FolderOpen, Coins, Clock, AlertCircle, CheckCircle } from 'lucide-react';\nimport NewServiceModal from './NewServiceModal';\nimport EditServiceModal from './EditServiceModal';\nimport ViewServiceModal from './ViewServiceModal';\nimport apiService from '../../services/api';\nimport { showSuccess, showError, showDeleteConfirm } from '../../utils/toast';\nimport { formatPrice } from '../../utils/currency';\nimport { useAuth } from '../Auth/AuthContext';\nimport { hasPermission } from '../../utils/permissions';\nimport { Navigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Services = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n\n  // Check if user has permission to view services\n  if (!hasPermission(user, 'services.view') && (user === null || user === void 0 ? void 0 : user.role) !== 'admin') {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 12\n    }, this);\n  }\n  const [showNewServiceModal, setShowNewServiceModal] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [categoryFilter, setCategoryFilter] = useState('all');\n  const [statusFilter, setStatusFilter] = useState('all');\n  const [services, setServices] = useState([]);\n  const [categories, setCategories] = useState([{\n    id: 'all',\n    name: 'All Categories'\n  }]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedService, setSelectedService] = useState(null);\n  const [showViewModal, setShowViewModal] = useState(false);\n  const [showEditModal, setShowEditModal] = useState(false);\n  useEffect(() => {\n    loadServices();\n    loadCategories();\n  }, [categoryFilter, statusFilter]);\n  const loadCategories = async () => {\n    try {\n      const response = await apiService.getServiceCategories({\n        page: 1,\n        limit: 100\n      });\n      const categoryOptions = [{\n        id: 'all',\n        name: 'All Categories'\n      }, ...(response.categories || []).map(cat => ({\n        id: cat.id.toString(),\n        name: cat.name\n      }))];\n      setCategories(categoryOptions);\n    } catch (err) {\n      console.error('Error loading categories:', err);\n    }\n  };\n  const loadServices = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const params = {\n        page: 1,\n        limit: 100\n      };\n      if (searchTerm) params.search = searchTerm;\n      if (categoryFilter !== 'all') params.category = categoryFilter;\n      const response = await apiService.getServices(params);\n      const transformedServices = (response.services || []).map(service => {\n        // Parse pricing_tiers - PostgreSQL JSONB is already parsed by node-postgres\n        let pricingTiers = [];\n        if (service.pricing_tiers) {\n          try {\n            if (typeof service.pricing_tiers === 'string') {\n              // If it's a string, parse it\n              pricingTiers = JSON.parse(service.pricing_tiers);\n            } else if (Array.isArray(service.pricing_tiers)) {\n              // If it's already an array (JSONB auto-parsed), use it directly\n              pricingTiers = service.pricing_tiers;\n            } else if (typeof service.pricing_tiers === 'object' && service.pricing_tiers !== null) {\n              // If it's an object, convert to array\n              pricingTiers = [service.pricing_tiers];\n            }\n\n            // Ensure it's an array\n            if (!Array.isArray(pricingTiers)) {\n              pricingTiers = [];\n            }\n          } catch (e) {\n            console.error('Error parsing pricing_tiers:', e, service.pricing_tiers);\n            pricingTiers = [];\n          }\n        }\n\n        // Parse requirements if it's a string\n        let requirements = [];\n        if (service.requirements) {\n          requirements = Array.isArray(service.requirements) ? service.requirements : [];\n        }\n        return {\n          id: `SRV-${String(service.id).padStart(3, '0')}`,\n          name: service.name,\n          category: service.category_name || 'Uncategorized',\n          categoryId: service.category_id ? service.category_id.toString() : '',\n          description: service.description || '',\n          pricingTiers: pricingTiers,\n          isActive: service.is_active !== false,\n          totalApplications: typeof service.total_applications === 'number' ? service.total_applications : parseInt(service.total_applications) || 0,\n          successRate: service.success_rate ? `${service.success_rate}%` : '0%',\n          createdAt: service.created_at ? new Date(service.created_at).toLocaleDateString() : '',\n          updatedAt: service.updated_at ? new Date(service.updated_at).toLocaleDateString() : '',\n          requirements: requirements,\n          statusColor: service.is_active !== false ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800',\n          // For API calls\n          serviceId: service.id\n        };\n      });\n\n      // Apply status filter on frontend\n      let filtered = transformedServices;\n      if (statusFilter !== 'all') {\n        filtered = transformedServices.filter(service => {\n          if (statusFilter === 'active') return service.isActive;\n          if (statusFilter === 'inactive') return !service.isActive;\n          return true;\n        });\n      }\n      setServices(filtered);\n    } catch (err) {\n      console.error('Error loading services:', err);\n      setError(err.message || 'Failed to load services');\n      showError(err.message || 'Failed to load services');\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    const timeoutId = setTimeout(() => {\n      if (!loading) {\n        loadServices();\n      }\n    }, 300);\n    return () => clearTimeout(timeoutId);\n  }, [searchTerm]);\n  const handleDeleteService = async serviceId => {\n    const service = services.find(s => s.serviceId === serviceId);\n    const confirmed = await showDeleteConfirm(service ? service.name : 'this service', 'service');\n    if (!confirmed) return;\n    try {\n      setLoading(true);\n      await apiService.deleteService(serviceId);\n      showSuccess('Service deleted successfully');\n      await loadServices();\n    } catch (err) {\n      console.error('Error deleting service:', err);\n      showError(err.message || 'Failed to delete service. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleViewService = service => {\n    setSelectedService(service);\n    setShowViewModal(true);\n  };\n  const handleEditService = service => {\n    setSelectedService(service);\n    setShowEditModal(true);\n  };\n  const handleAddService = async serviceData => {\n    try {\n      setLoading(true);\n      await apiService.createService(serviceData);\n      showSuccess('Service created successfully');\n      await loadServices();\n      setShowNewServiceModal(false);\n    } catch (err) {\n      console.error('Error adding service:', err);\n      showError(err.message || 'Failed to add service. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSaveService = async updatedService => {\n    try {\n      setLoading(true);\n\n      // Transform data from camelCase to snake_case for API\n      // Filter out empty requirements\n      const validRequirements = (updatedService.requirements || []).filter(req => req.trim() !== '');\n\n      // Format pricing tiers for API - clean price input (remove currency symbols)\n      const pricingTiers = (updatedService.pricingTiers || []).filter(tier => tier.name.trim() && tier.price.trim() && tier.duration.trim()).map(tier => ({\n        name: tier.name.trim(),\n        price: tier.price.trim().replace(/[^0-9.]/g, ''),\n        // Remove any currency symbols\n        duration: tier.duration.trim(),\n        isDefault: tier.isDefault || false\n      }));\n      const serviceData = {\n        name: updatedService.name.trim(),\n        description: updatedService.description.trim(),\n        category_id: updatedService.categoryId ? parseInt(updatedService.categoryId) : null,\n        pricing_tiers: pricingTiers.length > 0 ? pricingTiers : null,\n        requirements: validRequirements.length > 0 ? validRequirements : [],\n        is_active: updatedService.isActive !== false,\n        success_rate: updatedService.successRate ? parseFloat(updatedService.successRate.replace('%', '')) : 0\n      };\n      console.log('Updating service with data:', {\n        serviceId: selectedService.serviceId,\n        serviceData: serviceData\n      });\n      await apiService.updateService(selectedService.serviceId, serviceData);\n      showSuccess('Service updated successfully');\n      await loadServices();\n      setShowEditModal(false);\n      setSelectedService(null);\n    } catch (err) {\n      console.error('Error updating service:', err);\n      showError(err.message || 'Failed to update service. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Mock data - replace with API calls\n  const oldServices = [{\n    id: 'SRV-001',\n    name: 'Passport Application',\n    category: 'Document',\n    categoryId: 'CAT-001',\n    description: 'Complete passport application service including document preparation and submission',\n    pricingTiers: [{\n      name: 'Regular',\n      price: 'GHS 150.00',\n      duration: '2-3 weeks',\n      isDefault: true\n    }, {\n      name: 'Express',\n      price: 'GHS 250.00',\n      duration: '1 week',\n      isDefault: false\n    }],\n    isActive: true,\n    totalApplications: 45,\n    successRate: '95%',\n    createdAt: '2024-01-01',\n    updatedAt: '2024-01-15',\n    requirements: ['Birth Certificate', 'ID Card', 'Passport Photos', 'Application Form'],\n    statusColor: 'bg-green-100 text-green-800'\n  }, {\n    id: 'SRV-002',\n    name: 'Birth Certificate',\n    category: 'Document',\n    categoryId: 'CAT-001',\n    description: 'Birth certificate application and processing service',\n    pricingTiers: [{\n      name: 'Regular',\n      price: 'GHS 75.00',\n      duration: '1-2 weeks',\n      isDefault: true\n    }, {\n      name: 'Express',\n      price: 'GHS 125.00',\n      duration: '3-5 days',\n      isDefault: false\n    }],\n    isActive: true,\n    totalApplications: 32,\n    successRate: '98%',\n    createdAt: '2024-01-02',\n    updatedAt: '2024-01-14',\n    requirements: ['Hospital Records', 'Parent IDs', 'Application Form'],\n    statusColor: 'bg-green-100 text-green-800'\n  }, {\n    id: 'SRV-003',\n    name: 'Visa Application',\n    category: 'Travel',\n    categoryId: 'CAT-003',\n    description: 'Tourist and business visa application assistance',\n    pricingTiers: [{\n      name: 'Standard',\n      price: 'GHS 200.00',\n      duration: '3-4 weeks',\n      isDefault: true\n    }, {\n      name: 'Express',\n      price: 'GHS 350.00',\n      duration: '1-2 weeks',\n      isDefault: false\n    }, {\n      name: 'Premium',\n      price: 'GHS 500.00',\n      duration: '3-5 days',\n      isDefault: false\n    }],\n    isActive: true,\n    totalApplications: 28,\n    successRate: '92%',\n    createdAt: '2024-01-03',\n    updatedAt: '2024-01-13',\n    requirements: ['Passport', 'Bank Statements', 'Travel Itinerary', 'Hotel Booking'],\n    statusColor: 'bg-green-100 text-green-800'\n  }, {\n    id: 'SRV-004',\n    name: 'School Application',\n    category: 'Education',\n    categoryId: 'CAT-002',\n    description: 'Primary and secondary school application assistance',\n    pricingTiers: [{\n      name: 'Regular',\n      price: 'GHS 100.00',\n      duration: '2-4 weeks',\n      isDefault: true\n    }],\n    isActive: true,\n    totalApplications: 15,\n    successRate: '88%',\n    createdAt: '2024-01-04',\n    updatedAt: '2024-01-12',\n    requirements: ['Academic Records', 'Birth Certificate', 'Recommendation Letters'],\n    statusColor: 'bg-green-100 text-green-800'\n  }, {\n    id: 'SRV-005',\n    name: 'Business Registration',\n    category: 'Business',\n    categoryId: 'CAT-004',\n    description: 'Business registration and licensing services',\n    pricingTiers: [{\n      name: 'Standard',\n      price: 'GHS 300.00',\n      duration: '4-6 weeks',\n      isDefault: true\n    }, {\n      name: 'Express',\n      price: 'GHS 450.00',\n      duration: '2-3 weeks',\n      isDefault: false\n    }],\n    isActive: false,\n    totalApplications: 8,\n    successRate: '85%',\n    createdAt: '2024-01-05',\n    updatedAt: '2024-01-10',\n    requirements: ['Business Plan', 'Tax ID', 'Bank Account', 'Registration Forms'],\n    statusColor: 'bg-gray-100 text-gray-800'\n  }];\n  const statusOptions = [{\n    value: 'all',\n    label: 'All Status'\n  }, {\n    value: 'active',\n    label: 'Active'\n  }, {\n    value: 'inactive',\n    label: 'Inactive'\n  }];\n  const filteredServices = services;\n  const getStatusCounts = () => {\n    const counts = {\n      total: services.length,\n      active: services.filter(service => service.isActive).length,\n      inactive: services.filter(service => !service.isActive).length,\n      totalApplications: services.reduce((sum, service) => {\n        // Ensure totalApplications is a number before adding\n        const apps = typeof service.totalApplications === 'number' ? service.totalApplications : parseInt(service.totalApplications) || 0;\n        return sum + apps;\n      }, 0)\n    };\n    return counts;\n  };\n  const statusCounts = getStatusCounts();\n  if (loading && services.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-gray-900\",\n          children: \"Services\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Manage services offered to customers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card text-center py-12\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Loading services...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-gray-900\",\n          children: \"Services\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Manage services offered to customers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowNewServiceModal(true),\n        className: \"btn-primary flex items-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(Plus, {\n          className: \"h-5 w-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Add Service\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-4 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl font-bold text-gray-900\",\n          children: statusCounts.total\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-600\",\n          children: \"Total Services\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl font-bold text-green-600\",\n          children: statusCounts.active\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-600\",\n          children: \"Active\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl font-bold text-gray-600\",\n          children: statusCounts.inactive\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-600\",\n          children: \"Inactive\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl font-bold text-blue-600\",\n          children: statusCounts.totalApplications\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-600\",\n          children: \"Total Applications\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col md:flex-row gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(Search, {\n              className: \"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Search services...\",\n              value: searchTerm,\n              onChange: e => setSearchTerm(e.target.value),\n              className: \"input-field pl-10\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:w-48\",\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            value: categoryFilter,\n            onChange: e => setCategoryFilter(e.target.value),\n            className: \"input-field\",\n            children: categories.map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: category.id,\n              children: category.name\n            }, category.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:w-48\",\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            value: statusFilter,\n            onChange: e => setStatusFilter(e.target.value),\n            className: \"input-field\",\n            children: statusOptions.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: option.value,\n              children: option.label\n            }, option.value, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n      children: filteredServices.map(service => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card hover:shadow-md transition-shadow duration-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start justify-between mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-12 w-12 rounded-lg bg-primary-100 flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(Settings, {\n                className: \"h-6 w-6 text-primary-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-semibold text-gray-900\",\n                children: service.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 479,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: service.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `px-2 py-1 text-xs font-medium rounded-full ${service.statusColor}`,\n            children: service.isActive ? 'Active' : 'Inactive'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center text-sm text-gray-600 mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(FolderOpen, {\n              className: \"h-4 w-4 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 17\n            }, this), service.category]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600 mb-3\",\n            children: service.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-2 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between text-sm\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center text-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(Coins, {\n                className: \"h-4 w-4 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 499,\n                columnNumber: 19\n              }, this), \"Pricing Options\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 498,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-1\",\n            children: service.pricingTiers.map((tier, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between text-xs\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: `font-medium ${tier.isDefault ? 'text-primary-600' : 'text-gray-700'}`,\n                children: [tier.name, \" \", tier.isDefault && '(Default)']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 506,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-right\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium text-gray-900\",\n                  children: formatPrice(tier.price)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 510,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-500 ml-2\",\n                  children: [\"(\", tier.duration, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 511,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 509,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 503,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center text-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                className: \"h-4 w-4 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 19\n              }, this), \"Success Rate\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium text-green-600\",\n              children: service.successRate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 521,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center text-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n                className: \"h-4 w-4 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 525,\n                columnNumber: 19\n              }, this), \"Applications\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 524,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium text-gray-900\",\n              children: service.totalApplications\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 528,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 523,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 mb-2\",\n            children: \"Requirements:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-1\",\n            children: [service.requirements.slice(0, 2).map((requirement, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-600\",\n              children: [\"\\u2022 \", requirement]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 19\n            }, this)), service.requirements.length > 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-500\",\n              children: [\"+\", service.requirements.length - 2, \" more requirements\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 541,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 534,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleViewService(service),\n            className: \"flex-1 btn-outline text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(Eye, {\n              className: \"h-4 w-4 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 553,\n              columnNumber: 17\n            }, this), \"View\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleEditService(service),\n            className: \"flex-1 btn-secondary text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(Edit, {\n              className: \"h-4 w-4 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 560,\n              columnNumber: 17\n            }, this), \"Edit\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDeleteService(service.serviceId),\n            className: \"px-3 py-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors duration-200\",\n            title: \"Delete service\",\n            children: /*#__PURE__*/_jsxDEV(Trash2, {\n              className: \"h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 568,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 563,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 548,\n          columnNumber: 13\n        }, this)]\n      }, service.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 7\n    }, this), filteredServices.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card text-center py-12\",\n      children: [/*#__PURE__*/_jsxDEV(Settings, {\n        className: \"h-12 w-12 text-gray-400 mx-auto mb-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 578,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-medium text-gray-900 mb-2\",\n        children: \"No services found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 579,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mb-4\",\n        children: searchTerm ? 'Try adjusting your search terms.' : 'Get started by creating your first service.'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 580,\n        columnNumber: 11\n      }, this), !searchTerm && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowNewServiceModal(true),\n        className: \"btn-primary\",\n        children: \"Add Service\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 584,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 577,\n      columnNumber: 9\n    }, this), showNewServiceModal && /*#__PURE__*/_jsxDEV(NewServiceModal, {\n      onClose: () => setShowNewServiceModal(false),\n      onSave: handleAddService\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 596,\n      columnNumber: 9\n    }, this), showViewModal && selectedService && /*#__PURE__*/_jsxDEV(ViewServiceModal, {\n      service: selectedService,\n      onClose: () => {\n        setShowViewModal(false);\n        setSelectedService(null);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 604,\n      columnNumber: 9\n    }, this), showEditModal && selectedService && /*#__PURE__*/_jsxDEV(EditServiceModal, {\n      service: selectedService,\n      onClose: () => {\n        setShowEditModal(false);\n        setSelectedService(null);\n      },\n      onSave: handleSaveService\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 615,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 389,\n    columnNumber: 5\n  }, this);\n};\n_s(Services, \"VVTuQwaQ3+FsO9BdX6Tawbrt8M8=\", false, function () {\n  return [useAuth];\n});\n_c = Services;\nexport default Services;\nvar _c;\n$RefreshReg$(_c, \"Services\");","map":{"version":3,"names":["React","useState","useEffect","Plus","Search","Filter","Eye","Edit","Trash2","Settings","FolderOpen","Coins","Clock","AlertCircle","CheckCircle","NewServiceModal","EditServiceModal","ViewServiceModal","apiService","showSuccess","showError","showDeleteConfirm","formatPrice","useAuth","hasPermission","Navigate","jsxDEV","_jsxDEV","Services","_s","user","role","to","replace","fileName","_jsxFileName","lineNumber","columnNumber","showNewServiceModal","setShowNewServiceModal","searchTerm","setSearchTerm","categoryFilter","setCategoryFilter","statusFilter","setStatusFilter","services","setServices","categories","setCategories","id","name","loading","setLoading","error","setError","selectedService","setSelectedService","showViewModal","setShowViewModal","showEditModal","setShowEditModal","loadServices","loadCategories","response","getServiceCategories","page","limit","categoryOptions","map","cat","toString","err","console","params","search","category","getServices","transformedServices","service","pricingTiers","pricing_tiers","JSON","parse","Array","isArray","e","requirements","String","padStart","category_name","categoryId","category_id","description","isActive","is_active","totalApplications","total_applications","parseInt","successRate","success_rate","createdAt","created_at","Date","toLocaleDateString","updatedAt","updated_at","statusColor","serviceId","filtered","filter","message","timeoutId","setTimeout","clearTimeout","handleDeleteService","find","s","confirmed","deleteService","handleViewService","handleEditService","handleAddService","serviceData","createService","handleSaveService","updatedService","validRequirements","req","trim","tier","price","duration","isDefault","length","parseFloat","log","updateService","oldServices","statusOptions","value","label","filteredServices","getStatusCounts","counts","total","active","inactive","reduce","sum","apps","statusCounts","className","children","onClick","type","placeholder","onChange","target","option","index","slice","requirement","title","onClose","onSave","_c","$RefreshReg$"],"sources":["/Users/dollarsoft/Documents/projects/personal/node/visaLink Africa/src/components/Services/Services.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Plus, \n  Search, \n  Filter, \n  Eye, \n  Edit, \n  Trash2,\n  Settings,\n  FolderOpen,\n  Coins,\n  Clock,\n  AlertCircle,\n  CheckCircle\n} from 'lucide-react';\nimport NewServiceModal from './NewServiceModal';\nimport EditServiceModal from './EditServiceModal';\nimport ViewServiceModal from './ViewServiceModal';\nimport apiService from '../../services/api';\nimport { showSuccess, showError, showDeleteConfirm } from '../../utils/toast';\nimport { formatPrice } from '../../utils/currency';\nimport { useAuth } from '../Auth/AuthContext';\nimport { hasPermission } from '../../utils/permissions';\nimport { Navigate } from 'react-router-dom';\n\nconst Services = () => {\n  const { user } = useAuth();\n  \n  // Check if user has permission to view services\n  if (!hasPermission(user, 'services.view') && user?.role !== 'admin') {\n    return <Navigate to=\"/\" replace />;\n  }\n  \n  const [showNewServiceModal, setShowNewServiceModal] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [categoryFilter, setCategoryFilter] = useState('all');\n  const [statusFilter, setStatusFilter] = useState('all');\n  const [services, setServices] = useState([]);\n  const [categories, setCategories] = useState([{ id: 'all', name: 'All Categories' }]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedService, setSelectedService] = useState(null);\n  const [showViewModal, setShowViewModal] = useState(false);\n  const [showEditModal, setShowEditModal] = useState(false);\n\n  useEffect(() => {\n    loadServices();\n    loadCategories();\n  }, [categoryFilter, statusFilter]);\n\n  const loadCategories = async () => {\n    try {\n      const response = await apiService.getServiceCategories({ page: 1, limit: 100 });\n      const categoryOptions = [\n        { id: 'all', name: 'All Categories' },\n        ...(response.categories || []).map(cat => ({\n          id: cat.id.toString(),\n          name: cat.name\n        }))\n      ];\n      setCategories(categoryOptions);\n    } catch (err) {\n      console.error('Error loading categories:', err);\n    }\n  };\n\n  const loadServices = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const params = { page: 1, limit: 100 };\n      if (searchTerm) params.search = searchTerm;\n      if (categoryFilter !== 'all') params.category = categoryFilter;\n      \n      const response = await apiService.getServices(params);\n      \n      const transformedServices = (response.services || []).map(service => {\n        // Parse pricing_tiers - PostgreSQL JSONB is already parsed by node-postgres\n        let pricingTiers = [];\n        if (service.pricing_tiers) {\n          try {\n            if (typeof service.pricing_tiers === 'string') {\n              // If it's a string, parse it\n              pricingTiers = JSON.parse(service.pricing_tiers);\n            } else if (Array.isArray(service.pricing_tiers)) {\n              // If it's already an array (JSONB auto-parsed), use it directly\n              pricingTiers = service.pricing_tiers;\n            } else if (typeof service.pricing_tiers === 'object' && service.pricing_tiers !== null) {\n              // If it's an object, convert to array\n              pricingTiers = [service.pricing_tiers];\n            }\n            \n            // Ensure it's an array\n            if (!Array.isArray(pricingTiers)) {\n              pricingTiers = [];\n            }\n          } catch (e) {\n            console.error('Error parsing pricing_tiers:', e, service.pricing_tiers);\n            pricingTiers = [];\n          }\n        }\n\n        // Parse requirements if it's a string\n        let requirements = [];\n        if (service.requirements) {\n          requirements = Array.isArray(service.requirements) \n            ? service.requirements \n            : [];\n        }\n\n        return {\n          id: `SRV-${String(service.id).padStart(3, '0')}`,\n          name: service.name,\n          category: service.category_name || 'Uncategorized',\n          categoryId: service.category_id ? service.category_id.toString() : '',\n          description: service.description || '',\n          pricingTiers: pricingTiers,\n          isActive: service.is_active !== false,\n          totalApplications: typeof service.total_applications === 'number' \n            ? service.total_applications \n            : parseInt(service.total_applications) || 0,\n          successRate: service.success_rate ? `${service.success_rate}%` : '0%',\n          createdAt: service.created_at ? new Date(service.created_at).toLocaleDateString() : '',\n          updatedAt: service.updated_at ? new Date(service.updated_at).toLocaleDateString() : '',\n          requirements: requirements,\n          statusColor: service.is_active !== false ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800',\n          // For API calls\n          serviceId: service.id\n        };\n      });\n\n      // Apply status filter on frontend\n      let filtered = transformedServices;\n      if (statusFilter !== 'all') {\n        filtered = transformedServices.filter(service => {\n          if (statusFilter === 'active') return service.isActive;\n          if (statusFilter === 'inactive') return !service.isActive;\n          return true;\n        });\n      }\n\n      setServices(filtered);\n    } catch (err) {\n      console.error('Error loading services:', err);\n      setError(err.message || 'Failed to load services');\n      showError(err.message || 'Failed to load services');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    const timeoutId = setTimeout(() => {\n      if (!loading) {\n        loadServices();\n      }\n    }, 300);\n    return () => clearTimeout(timeoutId);\n  }, [searchTerm]);\n\n  const handleDeleteService = async (serviceId) => {\n    const service = services.find(s => s.serviceId === serviceId);\n    const confirmed = await showDeleteConfirm(\n      service ? service.name : 'this service',\n      'service'\n    );\n    \n    if (!confirmed) return;\n    \n    try {\n      setLoading(true);\n      await apiService.deleteService(serviceId);\n      showSuccess('Service deleted successfully');\n      await loadServices();\n    } catch (err) {\n      console.error('Error deleting service:', err);\n      showError(err.message || 'Failed to delete service. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleViewService = (service) => {\n    setSelectedService(service);\n    setShowViewModal(true);\n  };\n\n  const handleEditService = (service) => {\n    setSelectedService(service);\n    setShowEditModal(true);\n  };\n\n  const handleAddService = async (serviceData) => {\n    try {\n      setLoading(true);\n      await apiService.createService(serviceData);\n      showSuccess('Service created successfully');\n      await loadServices();\n      setShowNewServiceModal(false);\n    } catch (err) {\n      console.error('Error adding service:', err);\n      showError(err.message || 'Failed to add service. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSaveService = async (updatedService) => {\n    try {\n      setLoading(true);\n      \n      // Transform data from camelCase to snake_case for API\n      // Filter out empty requirements\n      const validRequirements = (updatedService.requirements || []).filter(req => req.trim() !== '');\n      \n      // Format pricing tiers for API - clean price input (remove currency symbols)\n      const pricingTiers = (updatedService.pricingTiers || [])\n        .filter(tier => tier.name.trim() && tier.price.trim() && tier.duration.trim())\n        .map(tier => ({\n          name: tier.name.trim(),\n          price: tier.price.trim().replace(/[^0-9.]/g, ''), // Remove any currency symbols\n          duration: tier.duration.trim(),\n          isDefault: tier.isDefault || false\n        }));\n\n      const serviceData = {\n        name: updatedService.name.trim(),\n        description: updatedService.description.trim(),\n        category_id: updatedService.categoryId ? parseInt(updatedService.categoryId) : null,\n        pricing_tiers: pricingTiers.length > 0 ? pricingTiers : null,\n        requirements: validRequirements.length > 0 ? validRequirements : [],\n        is_active: updatedService.isActive !== false,\n        success_rate: updatedService.successRate ? parseFloat(updatedService.successRate.replace('%', '')) : 0\n      };\n      \n      console.log('Updating service with data:', {\n        serviceId: selectedService.serviceId,\n        serviceData: serviceData\n      });\n      \n      await apiService.updateService(selectedService.serviceId, serviceData);\n      showSuccess('Service updated successfully');\n      await loadServices();\n      setShowEditModal(false);\n      setSelectedService(null);\n    } catch (err) {\n      console.error('Error updating service:', err);\n      showError(err.message || 'Failed to update service. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Mock data - replace with API calls\n  const oldServices = [\n    {\n      id: 'SRV-001',\n      name: 'Passport Application',\n      category: 'Document',\n      categoryId: 'CAT-001',\n      description: 'Complete passport application service including document preparation and submission',\n      pricingTiers: [\n        { name: 'Regular', price: 'GHS 150.00', duration: '2-3 weeks', isDefault: true },\n        { name: 'Express', price: 'GHS 250.00', duration: '1 week', isDefault: false }\n      ],\n      isActive: true,\n      totalApplications: 45,\n      successRate: '95%',\n      createdAt: '2024-01-01',\n      updatedAt: '2024-01-15',\n      requirements: ['Birth Certificate', 'ID Card', 'Passport Photos', 'Application Form'],\n      statusColor: 'bg-green-100 text-green-800'\n    },\n    {\n      id: 'SRV-002',\n      name: 'Birth Certificate',\n      category: 'Document',\n      categoryId: 'CAT-001',\n      description: 'Birth certificate application and processing service',\n      pricingTiers: [\n        { name: 'Regular', price: 'GHS 75.00', duration: '1-2 weeks', isDefault: true },\n        { name: 'Express', price: 'GHS 125.00', duration: '3-5 days', isDefault: false }\n      ],\n      isActive: true,\n      totalApplications: 32,\n      successRate: '98%',\n      createdAt: '2024-01-02',\n      updatedAt: '2024-01-14',\n      requirements: ['Hospital Records', 'Parent IDs', 'Application Form'],\n      statusColor: 'bg-green-100 text-green-800'\n    },\n    {\n      id: 'SRV-003',\n      name: 'Visa Application',\n      category: 'Travel',\n      categoryId: 'CAT-003',\n      description: 'Tourist and business visa application assistance',\n      pricingTiers: [\n        { name: 'Standard', price: 'GHS 200.00', duration: '3-4 weeks', isDefault: true },\n        { name: 'Express', price: 'GHS 350.00', duration: '1-2 weeks', isDefault: false },\n        { name: 'Premium', price: 'GHS 500.00', duration: '3-5 days', isDefault: false }\n      ],\n      isActive: true,\n      totalApplications: 28,\n      successRate: '92%',\n      createdAt: '2024-01-03',\n      updatedAt: '2024-01-13',\n      requirements: ['Passport', 'Bank Statements', 'Travel Itinerary', 'Hotel Booking'],\n      statusColor: 'bg-green-100 text-green-800'\n    },\n    {\n      id: 'SRV-004',\n      name: 'School Application',\n      category: 'Education',\n      categoryId: 'CAT-002',\n      description: 'Primary and secondary school application assistance',\n      pricingTiers: [\n        { name: 'Regular', price: 'GHS 100.00', duration: '2-4 weeks', isDefault: true }\n      ],\n      isActive: true,\n      totalApplications: 15,\n      successRate: '88%',\n      createdAt: '2024-01-04',\n      updatedAt: '2024-01-12',\n      requirements: ['Academic Records', 'Birth Certificate', 'Recommendation Letters'],\n      statusColor: 'bg-green-100 text-green-800'\n    },\n    {\n      id: 'SRV-005',\n      name: 'Business Registration',\n      category: 'Business',\n      categoryId: 'CAT-004',\n      description: 'Business registration and licensing services',\n      pricingTiers: [\n        { name: 'Standard', price: 'GHS 300.00', duration: '4-6 weeks', isDefault: true },\n        { name: 'Express', price: 'GHS 450.00', duration: '2-3 weeks', isDefault: false }\n      ],\n      isActive: false,\n      totalApplications: 8,\n      successRate: '85%',\n      createdAt: '2024-01-05',\n      updatedAt: '2024-01-10',\n      requirements: ['Business Plan', 'Tax ID', 'Bank Account', 'Registration Forms'],\n      statusColor: 'bg-gray-100 text-gray-800'\n    }\n  ];\n\n  const statusOptions = [\n    { value: 'all', label: 'All Status' },\n    { value: 'active', label: 'Active' },\n    { value: 'inactive', label: 'Inactive' }\n  ];\n\n  const filteredServices = services;\n\n  const getStatusCounts = () => {\n    const counts = {\n      total: services.length,\n      active: services.filter(service => service.isActive).length,\n      inactive: services.filter(service => !service.isActive).length,\n      totalApplications: services.reduce((sum, service) => {\n        // Ensure totalApplications is a number before adding\n        const apps = typeof service.totalApplications === 'number' \n          ? service.totalApplications \n          : parseInt(service.totalApplications) || 0;\n        return sum + apps;\n      }, 0)\n    };\n    return counts;\n  };\n\n  const statusCounts = getStatusCounts();\n\n  if (loading && services.length === 0) {\n    return (\n      <div className=\"space-y-6\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">Services</h1>\n          <p className=\"text-gray-600\">Manage services offered to customers</p>\n        </div>\n        <div className=\"card text-center py-12\">\n          <p className=\"text-gray-600\">Loading services...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Page Header */}\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">Services</h1>\n          <p className=\"text-gray-600\">Manage services offered to customers</p>\n        </div>\n        <button\n          onClick={() => setShowNewServiceModal(true)}\n          className=\"btn-primary flex items-center space-x-2\"\n        >\n          <Plus className=\"h-5 w-5\" />\n          <span>Add Service</span>\n        </button>\n      </div>\n\n      {/* Status Overview */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <div className=\"card text-center\">\n          <div className=\"text-2xl font-bold text-gray-900\">{statusCounts.total}</div>\n          <div className=\"text-sm text-gray-600\">Total Services</div>\n        </div>\n        <div className=\"card text-center\">\n          <div className=\"text-2xl font-bold text-green-600\">{statusCounts.active}</div>\n          <div className=\"text-sm text-gray-600\">Active</div>\n        </div>\n        <div className=\"card text-center\">\n          <div className=\"text-2xl font-bold text-gray-600\">{statusCounts.inactive}</div>\n          <div className=\"text-sm text-gray-600\">Inactive</div>\n        </div>\n        <div className=\"card text-center\">\n          <div className=\"text-2xl font-bold text-blue-600\">{statusCounts.totalApplications}</div>\n          <div className=\"text-sm text-gray-600\">Total Applications</div>\n        </div>\n      </div>\n\n      {/* Filters and Search */}\n      <div className=\"card\">\n        <div className=\"flex flex-col md:flex-row gap-4\">\n          <div className=\"flex-1\">\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search services...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"input-field pl-10\"\n              />\n            </div>\n          </div>\n          <div className=\"md:w-48\">\n            <select\n              value={categoryFilter}\n              onChange={(e) => setCategoryFilter(e.target.value)}\n              className=\"input-field\"\n            >\n              {categories.map(category => (\n                <option key={category.id} value={category.id}>\n                  {category.name}\n                </option>\n              ))}\n            </select>\n          </div>\n          <div className=\"md:w-48\">\n            <select\n              value={statusFilter}\n              onChange={(e) => setStatusFilter(e.target.value)}\n              className=\"input-field\"\n            >\n              {statusOptions.map(option => (\n                <option key={option.value} value={option.value}>\n                  {option.label}\n                </option>\n              ))}\n            </select>\n          </div>\n        </div>\n      </div>\n\n      {/* Services Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {filteredServices.map((service) => (\n          <div key={service.id} className=\"card hover:shadow-md transition-shadow duration-200\">\n            <div className=\"flex items-start justify-between mb-4\">\n              <div className=\"flex items-center\">\n                <div className=\"h-12 w-12 rounded-lg bg-primary-100 flex items-center justify-center\">\n                  <Settings className=\"h-6 w-6 text-primary-600\" />\n                </div>\n                <div className=\"ml-3\">\n                  <h3 className=\"text-lg font-semibold text-gray-900\">{service.name}</h3>\n                  <p className=\"text-sm text-gray-500\">{service.id}</p>\n                </div>\n              </div>\n              <span className={`px-2 py-1 text-xs font-medium rounded-full ${service.statusColor}`}>\n                {service.isActive ? 'Active' : 'Inactive'}\n              </span>\n            </div>\n\n            <div className=\"mb-4\">\n              <div className=\"flex items-center text-sm text-gray-600 mb-2\">\n                <FolderOpen className=\"h-4 w-4 mr-2\" />\n                {service.category}\n              </div>\n              <p className=\"text-sm text-gray-600 mb-3\">{service.description}</p>\n            </div>\n\n            <div className=\"space-y-2 mb-4\">\n              <div className=\"flex items-center justify-between text-sm\">\n                <div className=\"flex items-center text-gray-600\">\n                  <Coins className=\"h-4 w-4 mr-1\" />\n                  Pricing Options\n                </div>\n              </div>\n              <div className=\"space-y-1\">\n                {service.pricingTiers.map((tier, index) => (\n                  <div key={index} className=\"flex items-center justify-between text-xs\">\n                    <span className={`font-medium ${tier.isDefault ? 'text-primary-600' : 'text-gray-700'}`}>\n                      {tier.name} {tier.isDefault && '(Default)'}\n                    </span>\n                    <div className=\"text-right\">\n                      <span className=\"font-medium text-gray-900\">{formatPrice(tier.price)}</span>\n                      <span className=\"text-gray-500 ml-2\">({tier.duration})</span>\n                    </div>\n                  </div>\n                ))}\n              </div>\n              <div className=\"flex items-center justify-between text-sm\">\n                <div className=\"flex items-center text-gray-600\">\n                  <CheckCircle className=\"h-4 w-4 mr-1\" />\n                  Success Rate\n                </div>\n                <span className=\"font-medium text-green-600\">{service.successRate}</span>\n              </div>\n              <div className=\"flex items-center justify-between text-sm\">\n                <div className=\"flex items-center text-gray-600\">\n                  <AlertCircle className=\"h-4 w-4 mr-1\" />\n                  Applications\n                </div>\n                <span className=\"font-medium text-gray-900\">{service.totalApplications}</span>\n              </div>\n            </div>\n\n            <div className=\"mb-4\">\n              <p className=\"text-xs text-gray-500 mb-2\">Requirements:</p>\n              <div className=\"space-y-1\">\n                {service.requirements.slice(0, 2).map((requirement, index) => (\n                  <div key={index} className=\"text-xs text-gray-600\">\n                     {requirement}\n                  </div>\n                ))}\n                {service.requirements.length > 2 && (\n                  <div className=\"text-xs text-gray-500\">\n                    +{service.requirements.length - 2} more requirements\n                  </div>\n                )}\n              </div>\n            </div>\n\n            <div className=\"flex space-x-2\">\n              <button \n                onClick={() => handleViewService(service)}\n                className=\"flex-1 btn-outline text-sm\"\n              >\n                <Eye className=\"h-4 w-4 mr-1\" />\n                View\n              </button>\n              <button \n                onClick={() => handleEditService(service)}\n                className=\"flex-1 btn-secondary text-sm\"\n              >\n                <Edit className=\"h-4 w-4 mr-1\" />\n                Edit\n              </button>\n              <button \n                onClick={() => handleDeleteService(service.serviceId)}\n                className=\"px-3 py-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors duration-200\"\n                title=\"Delete service\"\n              >\n                <Trash2 className=\"h-4 w-4\" />\n              </button>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* Empty State */}\n      {filteredServices.length === 0 && (\n        <div className=\"card text-center py-12\">\n          <Settings className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No services found</h3>\n          <p className=\"text-gray-600 mb-4\">\n            {searchTerm ? 'Try adjusting your search terms.' : 'Get started by creating your first service.'}\n          </p>\n          {!searchTerm && (\n            <button\n              onClick={() => setShowNewServiceModal(true)}\n              className=\"btn-primary\"\n            >\n              Add Service\n            </button>\n          )}\n        </div>\n      )}\n\n      {/* New Service Modal */}\n      {showNewServiceModal && (\n        <NewServiceModal\n          onClose={() => setShowNewServiceModal(false)}\n          onSave={handleAddService}\n        />\n      )}\n\n      {/* View Service Modal */}\n      {showViewModal && selectedService && (\n        <ViewServiceModal\n          service={selectedService}\n          onClose={() => {\n            setShowViewModal(false);\n            setSelectedService(null);\n          }}\n        />\n      )}\n\n      {/* Edit Service Modal */}\n      {showEditModal && selectedService && (\n        <EditServiceModal\n          service={selectedService}\n          onClose={() => {\n            setShowEditModal(false);\n            setSelectedService(null);\n          }}\n          onSave={handleSaveService}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Services;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}